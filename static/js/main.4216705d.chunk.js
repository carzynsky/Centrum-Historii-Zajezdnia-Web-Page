(this["webpackJsonpcentrum-historii-zajezdnia-web-page"]=this["webpackJsonpcentrum-historii-zajezdnia-web-page"]||[]).push([[0],{103:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},111:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){},218:function(e,t,a){e.exports=a.p+"static/media/map.13b5b926.png"},219:function(e,t,a){},220:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(25),l=a.n(s),o=a(8),i=a(9),c=a(10),u=a(11),d=a(224),m=a(13),p=(a(53),a(103),function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"GreetingPanel"},r.a.createElement("h1",null,"System do monitorowania parametr\xf3w mikroklimatu w Centrum Historii Zajezdnia."),r.a.createElement(m.b,{to:"/Centrum-Historii-Zajezdnia-Web-Page/login"},r.a.createElement(d.a,{className:"btn",variant:"dark"},"Zaloguj")))}}]),a}(n.Component)),h=(a(108),function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"AboutPanel"},r.a.createElement("h3",null,"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas libero nisl, lobortis porta placerat ac, maximus ac magna. Curabitur dapibus nunc nunc, auctor dignissim elit pharetra at. Pellentesque at ultrices diam. Sed molestie et tellus eget commodo. Suspendisse quis ornare sapien. In hac habitasse platea dictumst. Sed facilisis pretium erat sit amet sagittis. Fusce leo massa, blandit id sapien sit amet, laoreet dignissim sem. Quisque suscipit mattis ultricies. Donec id facilisis metus. Aenean gravida nisl nec est tempus, nec imperdiet dui luctus."))}}]),a}(n.Component)),E=(a(109),function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"ContactPanel"},r.a.createElement("h3",null,"Vivamus in elit tortor. Mauris efficitur ipsum fermentum nibh aliquet, imperdiet convallis felis gravida. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Mauris in turpis non enim lacinia rutrum sed quis nulla. Suspendisse imperdiet ipsum sem, nec lacinia tellus placerat sodales. Ut sagittis risus id diam fringilla, id lacinia felis rhoncus."))}}]),a}(n.Component)),g=a(231),b=a(230),f=(a(72),function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement(g.a,{expand:"lg",variant:"dark",style:{marginTop:"50px"}},r.a.createElement(g.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(g.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(b.a,{className:"ml-auto",style:{marginRight:"50px"}},r.a.createElement(m.c,{exact:!0,activeStyle:{borderBottom:"1px solid rgb(152, 52, 239)"},className:"Nav-Link",to:"/Centrum-Historii-Zajezdnia-Web-Page/"},"Strona g\u0142\xf3wna"),r.a.createElement(m.c,{activeStyle:{borderBottom:"1px solid rgb(152, 52, 239)"},className:"Nav-Link",to:"/Centrum-Historii-Zajezdnia-Web-Page/about"},"O nas"),r.a.createElement(m.c,{activeStyle:{borderBottom:"1px solid rgb(152, 52, 239)"},className:"Nav-Link",to:"/Centrum-Historii-Zajezdnia-Web-Page/contact"},"Kontakt")))))}}]),a}(n.Component)),y=a(5),v=a(229),C=a(29),w=(a(111),function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={UserLogin:"",UserPassword:"",Message:""},n.UserLogin=n.UserLogin.bind(Object(y.a)(n)),n.UserPassword=n.UserPassword.bind(Object(y.a)(n)),n.login=n.login.bind(Object(y.a)(n)),n}return Object(i.a)(a,[{key:"UserLogin",value:function(e){this.setState({UserLogin:e.target.value})}},{key:"UserPassword",value:function(e){this.setState({UserPassword:e.target.value})}},{key:"login",value:function(e){var t=this;e.preventDefault();try{fetch("https://localhost:5001/api/users/login",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({login:this.state.UserLogin,password:this.state.UserPassword})}).then((function(e){return e.json()})).then((function(e){console.log(e),"Error"===e.status?t.setState({Message:"Nie uda\u0142o si\u0119 zalogowa\u0107!"}):"Success"===e.status?(console.log(e.function),t.setState({redirect:e.function})):t.setState({Message:"Nie uda\u0142o si\u0119 zalogowa\u0107!"})})).catch((function(e){console.log(e)}))}catch(a){console.log("error"),this.setState({Message:"Nie uda\u0142o si\u0119 zalogowa\u0107!"})}}},{key:"render",value:function(){return"admin"===this.state.redirect?r.a.createElement(C.a,{push:!0,to:"/Centrum-Historii-Zajezdnia-Web-Page/admin-panel"}):"technician"===this.state.redirect?r.a.createElement(C.a,{push:!0,to:"/Centrum-Historii-Zajezdnia-Web-Page/technicianpanel"}):"employee"===this.state.redirect?r.a.createElement(C.a,{push:!0,to:"/Centrum-Historii-Zajezdnia-Web-Page/employeepanel"}):r.a.createElement("div",{className:"LoginPanel"},r.a.createElement(v.a,null,r.a.createElement(v.a.Group,{className:"formLogin"},r.a.createElement(v.a.Label,null,"Podaj login"),r.a.createElement(v.a.Control,{className:"My-Input",onChange:this.UserLogin,type:"text",placeholder:"Login"}),r.a.createElement(v.a.Text,{className:"text-muted"},this.state.Message)),r.a.createElement(v.a.Group,{className:"formPassword"},r.a.createElement(v.a.Label,null,"Podaj has\u0142o"),r.a.createElement(v.a.Control,{className:"My-Input",onChange:this.UserPassword,type:"password",placeholder:"*****"})),r.a.createElement(d.a,{className:"Login-Button",onClick:this.login,variant:"primary"},"Zaloguj")))}}]),a}(n.Component)),S=a(225),k=a(226),j=a(95),N=(a(32),a(7)),x=a.n(N),D=a(14),O=a(66),L=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={timePeriods:[{value:0,display:"Ostatnie 7 dni",request:"LastWeek"},{value:1,display:"Aktualny rok",request:"ByMonth"},{value:2,display:"Ostatnie 5 lat",request:"LastYears"}],selectedPeriod:"1",selectedPeriodName:"ByMonth",currentSensorName:"",currentSensor:"1",currentTemperature:"",currentHumidity:"",currentTemperatureStatus:"",currentHumidityStatus:"",numberOfAllMeasurement:"",numberOfMeasurementToday:"",numberOfMeasurementThisMonth:"",sensors:[],chartTemperatureData:{data:{datasets:[],labels:[]}},chartHumidityData:{data:{datasets:[],labels:[]}},optionsHumidityChart:{animation:{easing:"easeOutCubic",duration:1e3},legend:{labels:{fontColor:"rgb(255,255,255,0.6)",fontSize:15}},scales:{yAxes:[{display:!0,gridLines:{color:"rgb(0,0,0,0.1)"},ticks:{fontColor:"rgb(255,255,255,0.6)",beginAtZero:!0,max:100,min:0}}],xAxes:[{gridLines:{color:"rgb(0,0,0,0.1)"},ticks:{fontColor:"rgb(255,255,255,0.78)"}}]}},optionsTemperatureChart:{animation:{easing:"easeOutCubic",duration:1e3},legend:{labels:{fontColor:"rgb(255,255,255,0.6)",fontSize:15}},scales:{yAxes:[{display:!0,gridLines:{color:"rgb(0,0,0,0.1)"},ticks:{fontColor:"rgb(255,255,255,0.6)",beginAtZero:!0,max:40,min:0}}],xAxes:[{gridLines:{color:"rgb(0,0,0,0.1)"},ticks:{fontColor:"rgb(255,255,255,0.78)"}}]}}},n.currentSensor=n.currentSensor.bind(Object(y.a)(n)),n.setTimePeriod=n.setTimePeriod.bind(Object(y.a)(n)),n}return Object(i.a)(a,[{key:"currentSensor",value:function(e){this.state.currentSensor=e.target.value,this.state.currentSensorName=this.state.sensors[e.target.value-1].display,this.fetchingLoopFunction()}},{key:"setTimePeriod",value:function(e){this.state.selectedPeriod=e.target.value,this.state.selectedPeriodName=this.state.timePeriods[e.target.value].request,this.fetchingLoopFunction()}},{key:"setChartData",value:function(e,t,a,n){this.setState({chartTemperatureData:{labels:a,datasets:[{label:"\u015arednia temperatura "+n+" dla czujnika: "+this.state.currentSensorName,data:e.map((function(e){return e.toFixed(2)})),responsive:!0,lineTension:0,borderCapStyle:"butt",backgroundColor:"transparent",borderColor:"rgba(248, 54, 0, 0.8)",borderJoinStyle:"miter",pointBorderColor:"rgba(254, 140, 0)",pointBackgroundColor:"#ffffff",pointBorderWidth:9,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(75,192,192,1)",pointHoverBorderColor:"rgba(75,192,192,1)",pointHoverBorderWidth:2,pointRadius:3,pointHitRadius:10}]},chartHumidityData:{labels:a,datasets:[{label:"\u015arednia wilgotno\u015b\u0107 powietrza "+n+" dla czujnika "+this.state.currentSensorName,data:t.map((function(e){return e.toFixed(2)})),responsive:!0,lineTension:.1,borderCapStyle:"butt",backgroundColor:"rgba(45, 118, 245)",hoverBackgroundColor:"rgb(255, 71, 117)"}]}})}},{key:"fetchingLoopFunction",value:function(){var e=Object(D.a)(x.a.mark((function e(){var t,a,n,r,s,l,o,i,c,u,d,m,p,h,E,g,b,f;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://localhost:5001/api/measurement/"+this.state.currentSensor+"/averageTemperature"+this.state.selectedPeriodName);case 3:return t=e.sent,e.next=6,fetch("https://localhost:5001/api/measurement/"+this.state.currentSensor+"/averageHumidity"+this.state.selectedPeriodName);case 6:return a=e.sent,e.next=9,fetch("https://localhost:5001/api/measurement/"+this.state.currentSensor);case 9:return n=e.sent,e.next=12,fetch("https://localhost:5001/api/sensors");case 12:return r=e.sent,e.next=15,fetch("https://localhost:5001/api/measurement/"+this.state.currentSensor+"/numberOfAllMeasurement");case 15:return s=e.sent,e.next=18,fetch("https://localhost:5001/api/measurement/"+this.state.currentSensor+"/numberOfMeasurementThisMonth");case 18:return l=e.sent,e.next=21,fetch("https://localhost:5001/api/measurement/"+this.state.currentSensor+"/numberOfMeasurementToday");case 21:return o=e.sent,e.next=24,t.json();case 24:return i=e.sent,e.next=27,a.json();case 27:return c=e.sent,e.next=30,n.json();case 30:return u=e.sent,e.next=33,r.json();case 33:return d=e.sent,e.next=36,s.json();case 36:return m=e.sent,e.next=39,l.json();case 39:return p=e.sent,e.next=42,o.json();case 42:h=e.sent,this.setState({currentTemperature:u[u.length-1].temperature,currentHumidity:u[u.length-1].humidity,numberOfAllMeasurement:m,numberOfMeasurementThisMonth:p,numberOfMeasurementToday:h,sensors:d.map((function(e){return{value:e.id,display:e.sensorName}})),currentSensorName:d[0].sensorName}),E=new Date,g=[],b="",e.t0=this.state.selectedPeriod,e.next="0"===e.t0?50:"1"===e.t0?54:"2"===e.t0?57:60;break;case 50:for(E.setDate(E.getDate()-7),f=0;f<8;f++)g.push(E.getDate()+"."+(E.getMonth()+1)),E.setDate(E.getDate()+1);return b="w ci\u0105gu ostatnich 7 dni",e.abrupt("break",61);case 54:return g=["Stycze\u0144","Luty","Marzec","Kwiecien","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017cdziernik","Listopad","Grudzie\u0144"],b="w danym miesi\u0105cu tego roku",e.abrupt("break",61);case 57:return g=[E.getFullYear()-4,E.getFullYear()-3,E.getFullYear()-2,E.getFullYear()-1,E.getFullYear()],b="w ci\u0105gu ostatnich 5 lat",e.abrupt("break",61);case 60:return e.abrupt("break",61);case 61:this.state.currentTemperature>24?this.setState({currentTemperatureStatus:"Uwaga! Zbyt wysoka temperatura!"}):this.state.currentTemperature<18?this.setState({currentTemperatureStatus:"Uwaga! Zbyt niska temperatura!"}):this.setState({currentTemperatureStatus:""}),this.state.currentHumidity>60?this.setState({currentHumidityStatus:"Uwaga! Zbyt wysoka wilgotno\u015b\u0107 powietrza!"}):this.state.currentHumidity<40?this.setState({currentHumidityStatus:"Uwaga! Zbyt niska wilgotno\u015b\u0107 powietrza!"}):this.setState({currentHumidityStatus:""}),this.setChartData(i,c,g,b),e.next=69;break;case 66:e.prev=66,e.t1=e.catch(0),console.log(e.t1);case 69:case"end":return e.stop()}}),e,this,[[0,66]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=this;this.fetchingLoopFunction(),setInterval((function(){e.fetchingLoopFunction()}),3e4)}},{key:"render",value:function(){return r.a.createElement(S.a,{className:"myContainer"},r.a.createElement(k.a,{className:"firstRow"},r.a.createElement(j.a,{xs:"3"},r.a.createElement("div",{className:"currentTemperature"},r.a.createElement(v.a,null,r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,{className:"labelHeader"},"Aktualna temperatura:"),r.a.createElement(v.a.Text,{className:"labelBody"},this.state.currentTemperature,"\xb0C"))))),r.a.createElement(j.a,{xs:"3"},r.a.createElement("div",{className:"currentHumidity"},r.a.createElement(v.a,null,r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,{className:"labelHeader"},"Aktualna wilgotno\u015b\u0107:"),r.a.createElement(v.a.Text,{className:"labelBody"},this.state.currentHumidity,"%"))))),r.a.createElement(j.a,{xs:"2"}),r.a.createElement(j.a,{xs:"4"},r.a.createElement(k.a,null,r.a.createElement("div",{className:"sourceSensor"},r.a.createElement(v.a,null,r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,{className:"labelHeader"},"Czujnik:"),r.a.createElement("select",{className:"selectSensor",value:this.state.currentSensor,onChange:this.currentSensor},this.state.sensors.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.display)}))))))),r.a.createElement(k.a,null,r.a.createElement("div",{className:"sourceSensor"},r.a.createElement(v.a,null,r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,{className:"labelHeader"},"Okres:"),r.a.createElement("select",{className:"selectSensor",value:this.state.selectedPeriod,onChange:this.setTimePeriod},this.state.timePeriods.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.display)}))))))))),r.a.createElement(k.a,null,r.a.createElement(j.a,{xs:"12"},r.a.createElement("div",{className:"currentTemperatureStatus"},this.state.currentTemperatureStatus))),r.a.createElement(k.a,null,r.a.createElement(j.a,{xs:"12"},r.a.createElement("div",{className:"currentHumidityStatus"},this.state.currentHumidityStatus))),r.a.createElement(k.a,null,r.a.createElement(j.a,null,r.a.createElement("div",{className:"measurementPanel"},r.a.createElement(O.b,{data:this.state.chartTemperatureData,options:this.state.optionsTemperatureChart,width:90,height:50})))),r.a.createElement(k.a,null,r.a.createElement(j.a,null,r.a.createElement("div",{className:"measurementPanel"},r.a.createElement(O.a,{data:this.state.chartHumidityData,options:this.state.optionsHumidityChart,width:90,height:50})))),r.a.createElement(k.a,null,r.a.createElement(j.a,{xs:"4"},r.a.createElement("div",{className:"quantityAll"},r.a.createElement(v.a,null,r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,{className:"labelHeader"},"Wszystkie pomiary:"),r.a.createElement(v.a.Text,{className:"labelBody"},this.state.numberOfAllMeasurement))))),r.a.createElement(j.a,{xs:"4"},r.a.createElement("div",{className:"quantityAll"},r.a.createElement(v.a,null,r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,{className:"labelHeader"},"Pomiary w tym miesi\u0105cu:"),r.a.createElement(v.a.Text,{className:"labelBody"},this.state.numberOfMeasurementThisMonth))))),r.a.createElement(j.a,{xs:"4"},r.a.createElement("div",{className:"quantityAll"},r.a.createElement(v.a,null,r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,{className:"labelHeader"},"Pomiary dzisiaj:"),r.a.createElement(v.a.Text,{className:"labelBody"},this.state.numberOfMeasurementToday)))))))}}]),a}(n.Component),H=a(227),A=a(228),I=(a(205),function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleCreateShow=function(){n.setState({showCreateModal:!0})},n.handleCreateClose=function(){n.setState({showCreateModal:!1})},n.handleShow=function(){n.setState({showModal:!0})},n.handleClose=function(){n.setState({showModal:!1})},n.handleShowHistory=function(){n.setState({showModalHistory:!0})},n.handleCloseHistory=function(){n.setState({showModalHistory:!1})},n.state={showModal:!1,showCreateModal:!1,showModalHistory:!1,responseText:"",users:[],loginHistory:[],loginHistoryByUserId:[],userFunctions:[],editUserData:{id:"",login:"",password:"",userFunctionId:"",userFunction:"",loginHistories:[]},createUserData:{login:"",password:"",userFunctionId:""}},n.editUserData=n.editUserData.bind(Object(y.a)(n)),n.editUserDataExac=n.editUserDataExac.bind(Object(y.a)(n)),n.Login=n.Login.bind(Object(y.a)(n)),n.Password=n.Password.bind(Object(y.a)(n)),n.UserFunctionId=n.UserFunctionId.bind(Object(y.a)(n)),n.LoginNew=n.LoginNew.bind(Object(y.a)(n)),n.PasswordNew=n.PasswordNew.bind(Object(y.a)(n)),n.UserFunctionIdNew=n.UserFunctionIdNew.bind(Object(y.a)(n)),n.editUser=n.editUser.bind(Object(y.a)(n)),n.deleteUser=n.deleteUser.bind(Object(y.a)(n)),n.deleteLoginHistory=n.deleteLoginHistory.bind(Object(y.a)(n)),n.getUsers=n.getUsers.bind(Object(y.a)(n)),n.getLoginHistory=n.getLoginHistory.bind(Object(y.a)(n)),n.getLoginHistoryByUserId=n.getLoginHistoryByUserId.bind(Object(y.a)(n)),n.createUser=n.createUser.bind(Object(y.a)(n)),n.getUserFunctions=n.getUserFunctions.bind(Object(y.a)(n)),n}return Object(i.a)(a,[{key:"getLoginHistory",value:function(){var e=Object(D.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:5001/api/loginHistory");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({loginHistory:a});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getLoginHistoryByUserId",value:function(){var e=Object(D.a)(x.a.mark((function e(t,a,n,r,s,l){var o,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:5001/api/loginHistory/"+t);case 2:return o=e.sent,e.next=5,o.json();case 5:i=e.sent,this.state.loginHistoryByUserId=i,console.log(i),this.editUserDataExac(t,a,n,r,s,l),this.handleShowHistory();case 10:case"end":return e.stop()}}),e,this)})));return function(t,a,n,r,s,l){return e.apply(this,arguments)}}()},{key:"getUsers",value:function(){var e=Object(D.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:5001/api/users");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({users:a});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteLoginHistory",value:function(){var e=Object(D.a)(x.a.mark((function e(){var t=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://localhost:5001/api/loginHistory",{method:"delete",header:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){t.getLoginHistory()}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getUserFunctions",value:function(){var e=Object(D.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:5001/api/users/functions");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({userFunctions:a});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getUsers(),this.getLoginHistory(),this.getUserFunctions()}},{key:"editUserDataExac",value:function(e,t,a,n,r,s){this.state.editUserData={id:e,login:t,password:a,userFunctionId:n,userFunction:r,loginHistories:s}}},{key:"editUserData",value:function(e,t,a,n,r,s){this.editUserDataExac(e,t,a,n,r,s),this.handleShow()}},{key:"LoginNew",value:function(e){this.state.createUserData.login=e.target.value}},{key:"PasswordNew",value:function(e){this.state.createUserData.password=e.target.value}},{key:"UserFunctionIdNew",value:function(e){this.state.createUserData.userFunctionId=e.target.value}},{key:"Login",value:function(e){this.state.editUserData.login=e.target.value}},{key:"Password",value:function(e){this.state.editUserData.password=e.target.value}},{key:"UserFunctionId",value:function(e){this.state.editUserData.userFunctionId=e.target.value}},{key:"createUser",value:function(){var e=Object(D.a)(x.a.mark((function e(){var t=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(this.state.createUserData);try{fetch("https://localhost:5001/api/users",{method:"post",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({login:this.state.createUserData.login,password:this.state.createUserData.password,userFunctionId:this.state.createUserData.userFunctionId})}).then((function(e){t.getUsers(),t.handleCreateClose()}))}catch(a){console.log(a)}case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=Object(D.a)(x.a.mark((function e(t){var a=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://localhost:5001/api/users/"+t,{method:"delete",header:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){a.getUsers()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"editUser",value:function(){var e=Object(D.a)(x.a.mark((function e(){var t=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://localhost:5001/api/users/"+this.state.editUserData.id,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({id:this.state.editUserData.id,login:this.state.editUserData.login,password:this.state.editUserData.password,userFunctionId:this.state.editUserData.userFunctionId})}).then((function(e){t.getUsers(),t.handleClose()}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.users,n=t.loginHistory,s=t.loginHistoryByUserId;return r.a.createElement(S.a,{className:"myContainer"},r.a.createElement(k.a,null,r.a.createElement("h3",null,"Zarz\u0105dzanie pracownikami w bazie")),r.a.createElement(k.a,null,r.a.createElement(d.a,{className:"btnEdit",variant:"dark",onClick:this.handleCreateShow},"Dodaj")),r.a.createElement(k.a,null,r.a.createElement(H.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",style:{marginTop:"30px"}},r.a.createElement("thead",null,r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Login"),r.a.createElement("th",null,"Has\u0142o"),r.a.createElement("th",null,"Rola"),r.a.createElement("th",null,"Operacje")),r.a.createElement("tbody",null,a.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.login),r.a.createElement("td",null,t.password),r.a.createElement("td",null,t.userFunction.function),r.a.createElement("td",null,r.a.createElement(d.a,{className:"btnEdit",variant:"dark",onClick:e.editUserData.bind(e,t.id,t.login,t.password,t.userFunctionId,t.userFunction.function,t.loginHistories)},"Edytuj"),r.a.createElement(d.a,{className:"btnDelete",variant:"dark",onClick:e.deleteUser.bind(e,t.id)},"Usu\u0144"),r.a.createElement(d.a,{className:"btnDelete",variant:"dark",onClick:e.getLoginHistoryByUserId.bind(e,t.id,t.login,t.password,t.userFunctionId,t.userFunction.function,t.loginHistories)},"Historia")))}))))),r.a.createElement(k.a,{style:{marginTop:"20px"}},r.a.createElement("h3",null,"Historia wszystkich logowa\u0144")),r.a.createElement(k.a,null,r.a.createElement(d.a,{className:"btnDelete",variant:"dark",style:{width:"130px"},onClick:this.deleteLoginHistory},"Wyczy\u015b\u0107 historie")),r.a.createElement(k.a,null,r.a.createElement(H.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",style:{marginTop:"20px"}},r.a.createElement("thead",null,r.a.createElement("th",null,"Id logowania"),r.a.createElement("th",null,"Godzina"),r.a.createElement("th",null,"Id u\u017cytkownika"),r.a.createElement("th",null,"Login u\u017cytkownika"),r.a.createElement("th",null,"Podany login"),r.a.createElement("th",null,"Podane has\u0142o"),r.a.createElement("th",null,"Status operacji")),r.a.createElement("tbody",null,n.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.dateTime),r.a.createElement("td",null,e.userId),r.a.createElement("td",null,e.users.login),r.a.createElement("td",null,e.userLogin),r.a.createElement("td",null,e.userPassword),r.a.createElement("td",null,e.success))}))))),r.a.createElement(A.a,{show:this.state.showModal,onHide:this.state.handleClose,className:"myModal"},r.a.createElement(A.a.Header,null,r.a.createElement(A.a.Title,null,"Edycja danych")),r.a.createElement(A.a.Body,null,r.a.createElement(v.a,null,r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Id"),r.a.createElement(v.a.Control,{type:"text",disabled:!0,defaultValue:this.state.editUserData.id})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Login"),r.a.createElement(v.a.Control,{type:"text",defaultValue:this.state.editUserData.login,onChange:this.Login})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Has\u0142o"),r.a.createElement(v.a.Control,{type:"text",defaultValue:this.state.editUserData.password,onChange:this.Password})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Rola")),r.a.createElement(v.a.Group,null,r.a.createElement("select",{className:"createSelect",defaultValue:this.state.editUserData.userFunctionId,onChange:this.UserFunctionId},this.state.userFunctions.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.function)})))))),r.a.createElement(A.a.Footer,null,r.a.createElement(d.a,{variant:"secondary",onClick:this.handleClose},"Zamknij"),r.a.createElement(d.a,{variant:"primary",onClick:this.editUser},"Zatwierd\u017a"))),r.a.createElement(A.a,{show:this.state.showCreateModal,onHide:this.state.handleCreateClose,className:"myModal"},r.a.createElement(A.a.Header,null,r.a.createElement(A.a.Title,null,"Dodawanie u\u017cytkownika")),r.a.createElement(A.a.Body,null,r.a.createElement(v.a,null,r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Login"),r.a.createElement(v.a.Control,{type:"text",onChange:this.LoginNew})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Has\u0142o"),r.a.createElement(v.a.Control,{type:"text",onChange:this.PasswordNew})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Rola")),r.a.createElement(v.a.Group,null,r.a.createElement("select",{className:"createSelect",onChange:this.UserFunctionIdNew},this.state.userFunctions.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.function)})))))),r.a.createElement(A.a.Footer,null,r.a.createElement(d.a,{variant:"secondary",onClick:this.handleCreateClose},"Zamknij"),r.a.createElement(d.a,{variant:"primary",onClick:this.createUser},"Dodaj"))),r.a.createElement(A.a,{show:this.state.showModalHistory,size:"lg",onHide:this.state.handleCloseHistory,className:"historyModal"},r.a.createElement(A.a.Header,null,r.a.createElement(A.a.Title,null,"Historia logowa\u0144 u\u017cytkownika")),r.a.createElement(A.a.Body,null,r.a.createElement(v.a,null,r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Id: ",this.state.editUserData.id)),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Login: ",this.state.editUserData.login)),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Has\u0142o: ",this.state.editUserData.password)),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Rola: ",this.state.editUserData.userFunction))),r.a.createElement(H.a,{responsive:"lg",bordered:!0,variant:"white",style:{marginTop:"30px"}},r.a.createElement("thead",null,r.a.createElement("th",null,"Id logowania"),r.a.createElement("th",null,"Godzina logowania"),r.a.createElement("th",null,"Id u\u017cytkownika"),r.a.createElement("th",null,"Podany login"),r.a.createElement("th",null,"Podane has\u0142o"),r.a.createElement("th",null,"Status operacji")),r.a.createElement("tbody",null,s.map((function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.dateTime),r.a.createElement("td",null,e.userId),r.a.createElement("td",null,e.userLogin),r.a.createElement("td",null,e.userPassword),r.a.createElement("td",null,e.success))}))))),r.a.createElement(A.a.Footer,null,r.a.createElement(d.a,{variant:"secondary",onClick:this.handleCloseHistory},"Zamknij"))))}}]),a}(n.Component)),T=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(S.a,{className:"myContainer"},r.a.createElement(k.a,null,r.a.createElement(j.a,null,"Sprawdzenie serwera.")))}}]),a}(n.Component),U=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement(g.a,{expand:"lg",variant:"dark",style:{marginTop:"30px"}},r.a.createElement(b.a,{className:"mr-auto"},r.a.createElement(m.c,{exact:!0,activeStyle:{borderBottom:"2px solid rgb(152, 52, 239)"},className:"Nav-Link",to:"/Centrum-Historii-Zajezdnia-Web-Page/admin-panel"},"Pomiary"),r.a.createElement(m.c,{activeStyle:{borderBottom:"2px solid rgb(152, 52, 239)"},className:"Nav-Link",to:"/Centrum-Historii-Zajezdnia-Web-Page/admin-panel/users-management"},"Zarz\u0105dzaj"),r.a.createElement(m.c,{activeStyle:{borderBottom:"2px solid rgb(152, 52, 239)"},className:"Nav-Link",to:"/Centrum-Historii-Zajezdnia-Web-Page/admin-panel/server"},"Serwer"),r.a.createElement(m.c,{activeStyle:{borderBottom:"2px solid rgb(152, 52, 239)"},className:"Nav-Link",to:"/Centrum-Historii-Zajezdnia-Web-Page/admin-panel/sensors"},"Czujniki"))))}}]),a}(n.Component),P=(a(206),a(207),function(e){Object(u.a)(n,e);var t=Object(c.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleCreateShow=function(){a.setState({showCreateModal:!0})},a.handleCreateClose=function(){a.setState({showCreateModal:!1})},a.handleShow=function(){a.setState({showModal:!0})},a.handleClose=function(){a.setState({showModal:!1})},a.state={showModal:!1,showCreateModal:!1,sensors:[],editSensorData:{id:"",sensorName:"",sensorIpAddress:"",externalIpAddress:"",top:"",left:""},createSensorData:{sensorName:"",sensorIpAddress:"",externalIpAddress:"",top:"",left:""},newX:0,newY:0,offsetX:"",offsetY:""},a.getSensors=a.getSensors.bind(Object(y.a)(a)),a.deleteSensors=a.deleteSensors.bind(Object(y.a)(a)),a.editSensor=a.editSensor.bind(Object(y.a)(a)),a.createSensor=a.createSensor.bind(Object(y.a)(a)),a.editSensorData=a.editSensorData.bind(Object(y.a)(a)),a.SensorNameNew=a.SensorNameNew.bind(Object(y.a)(a)),a.SensorIpAddressNew=a.SensorIpAddressNew.bind(Object(y.a)(a)),a.SensorNameEdit=a.SensorNameEdit.bind(Object(y.a)(a)),a.SensorIpAddressEdit=a.SensorIpAddressEdit.bind(Object(y.a)(a)),a.mouseDownSensor=a.mouseDownSensor.bind(Object(y.a)(a)),a.move=a.move.bind(Object(y.a)(a)),a.remove=a.remove.bind(Object(y.a)(a)),a.SensorLeftEdit=a.SensorLeftEdit.bind(Object(y.a)(a)),a.SensorTopEdit=a.SensorTopEdit.bind(Object(y.a)(a)),a.SensorLeftNew=a.SensorLeftNew.bind(Object(y.a)(a)),a.SensorTopNew=a.SensorTopNew.bind(Object(y.a)(a)),a.SensorExternalIpAddressEdit=a.SensorExternalIpAddressEdit.bind(Object(y.a)(a)),a.SensorExternalIpAddressNew=a.SensorExternalIpAddressNew.bind(Object(y.a)(a)),a}return Object(i.a)(n,[{key:"editSensorData",value:function(e,t,a,n,r,s){this.setState({editSensorData:{id:e,sensorName:t,sensorIpAddress:a,top:n,left:r,externalIpAddress:s}}),console.log(this.state.sensors),this.handleShow()}},{key:"SensorExternalIpAddressNew",value:function(e){this.state.createSensorData.externalIpAddress=e.target.value}},{key:"SensorExternalIpAddressEdit",value:function(e){this.state.editSensorData.externalIpAddress=e.target.value}},{key:"SensorTopNew",value:function(e){this.state.createSensorData.top=e.target.value}},{key:"SensorLeftNew",value:function(e){this.state.createSensorData.left=e.target.value}},{key:"SensorNameNew",value:function(e){this.state.createSensorData.sensorName=e.target.value}},{key:"SensorIpAddressNew",value:function(e){this.state.createSensorData.sensorIpAddress=e.target.value}},{key:"SensorNameEdit",value:function(e){this.state.editSensorData.sensorName=e.target.value}},{key:"SensorIpAddressEdit",value:function(e){this.state.editSensorData.sensorIpAddress=e.target.value}},{key:"SensorTopEdit",value:function(e){this.state.editSensorData.top=e.target.value}},{key:"SensorLeftEdit",value:function(e){this.state.editSensorData.left=e.target.value}},{key:"getSensors",value:function(){var e=Object(D.a)(x.a.mark((function e(){var t,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://localhost:5001/api/sensors");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({sensors:a});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteSensors",value:function(){var e=Object(D.a)(x.a.mark((function e(t){var a=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fetch("https://localhost:5001/api/sensors/"+t,{method:"delete",header:{"Content-Type":"application/json",Accept:"application/json"}}).then((function(e){a.getSensors()}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"editSensor",value:function(){var e=Object(D.a)(x.a.mark((function e(){var t=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(this.state.editSensorData),fetch("https://localhost:5001/api/sensors/"+this.state.editSensorData.id,{method:"PUT",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({id:this.state.editSensorData.id,sensorName:this.state.editSensorData.sensorName,ipAddress:this.state.editSensorData.sensorIpAddress,externalIp:this.state.editSensorData.externalIpAddress,top:this.state.editSensorData.top,left:this.state.editSensorData.left})}).then((function(e){t.getSensors(),t.handleClose()}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createSensor",value:function(){var e=Object(D.a)(x.a.mark((function e(){var t=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(this.state.createSensorData);try{fetch("https://localhost:5001/api/sensors",{method:"post",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({sensorName:this.state.createSensorData.sensorName,ipAddress:this.state.createSensorData.sensorIpAddress,externalIp:this.state.createSensorData.externalIpAddress,top:this.state.createSensorData.top,left:this.state.createSensorData.left})}).then((function(e){t.getSensors(),t.handleCreateClose()}))}catch(a){console.log(a)}case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.getSensors()}},{key:"mouseDownSensor",value:function(e){var t=e.target;this.state.offsetX=e.clientX-t.getBoundingClientRect().left,this.state.offsetY=e.clientY-t.getBoundingClientRect().top,t.addEventListener("mousemove",this.move)}},{key:"move",value:function(e){var t=e.target;t.style.left="".concat(e.pageX-this.state.offsetX,"px"),t.style.top="".concat(e.pageY-this.state.offsetY,"px"),this.state.newX=t.style.left,this.state.newY=t.style.top}},{key:"remove",value:function(e){var t=this,a=e.target;a.removeEventListener("mousemove",this.move),this.state.newX=parseInt(this.state.newX,10),this.state.newY=parseInt(this.state.newY,10),this.state.sensors.map((function(e){e.id==a.id&&t.editSensorData(e.id,e.sensorName,e.ipAddress,t.state.newY,t.state.newX,e.externalIp)})),console.log(this.state.editSensorData)}},{key:"render",value:function(){var e=this,t=this.state.sensors;return r.a.createElement(S.a,{className:"myContainer"},r.a.createElement(k.a,null,r.a.createElement("h3",null,"Lista czujnik\xf3w")),r.a.createElement(k.a,null,r.a.createElement(d.a,{className:"btnEdit",variant:"dark",onClick:this.handleCreateShow},"Dodaj")),r.a.createElement(k.a,null,r.a.createElement(H.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",style:{marginTop:"20px"}},r.a.createElement("thead",null,r.a.createElement("th",null,"Id"),r.a.createElement("th",null,"Nazwa"),r.a.createElement("th",null,"Adres IP"),r.a.createElement("th",null,"Operacje")),r.a.createElement("tbody",null,t.map((function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.sensorName),r.a.createElement("td",null,t.ipAddress),r.a.createElement("td",null,r.a.createElement(d.a,{className:"btnEdit",variant:"dark",onClick:e.editSensorData.bind(e,t.id,t.sensorName,t.ipAddress,t.top,t.left,t.externalIp)},"Edytuj"),r.a.createElement(d.a,{className:"btnDelete",variant:"dark",onClick:e.deleteSensors.bind(e,t.id)},"Usu\u0144")))}))))),r.a.createElement(k.a,null,r.a.createElement("img",{className:"mapPicture",src:a(218)}),t.map((function(t){return r.a.createElement("div",{className:"sensorBall",id:t.id,key:t.id,onMouseDown:e.mouseDownSensor,onMouseUp:e.remove,style:{position:"absolute",top:t.top,left:t.left}},t.id)}))),r.a.createElement(A.a,{show:this.state.showModal,onHide:this.state.handleClose,className:"myModal"},r.a.createElement(A.a.Header,null,r.a.createElement(A.a.Title,null,"Edycja danych")),r.a.createElement(A.a.Body,null,r.a.createElement(v.a,null,r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Id"),r.a.createElement(v.a.Control,{type:"text",disabled:!0,defaultValue:this.state.editSensorData.id})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Nazwa czujnika"),r.a.createElement(v.a.Control,{type:"text",defaultValue:this.state.editSensorData.sensorName,onChange:this.SensorNameEdit})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Adres Ip czujnika"),r.a.createElement(v.a.Control,{type:"text",defaultValue:this.state.editSensorData.sensorIpAddress,onChange:this.SensorIpAddressEdit})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Zewn\u0119trzny adres ip"),r.a.createElement(v.a.Control,{type:"text",defaultValue:this.state.editSensorData.externalIpAddress,onChange:this.SensorExternalIpAddressEdit})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Top"),r.a.createElement(v.a.Control,{type:"text",defaultValue:this.state.editSensorData.top,onChange:this.SensorTopEdit})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Left"),r.a.createElement(v.a.Control,{type:"text",defaultValue:this.state.editSensorData.left,onChange:this.SensorLeftEdit})))),r.a.createElement(A.a.Footer,null,r.a.createElement(d.a,{variant:"secondary",onClick:this.handleClose},"Zamknij"),r.a.createElement(d.a,{variant:"primary",onClick:this.editSensor},"Zatwierd\u017a"))),r.a.createElement(A.a,{show:this.state.showCreateModal,onHide:this.state.handleCreateClose,className:"myModal"},r.a.createElement(A.a.Header,null,r.a.createElement(A.a.Title,null,"Dodawanie sensora")),r.a.createElement(A.a.Body,null,r.a.createElement(v.a,null,r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Nazwa czujnika"),r.a.createElement(v.a.Control,{type:"text",onChange:this.SensorNameNew})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Adres Ip czujnika"),r.a.createElement(v.a.Control,{type:"text",onChange:this.SensorIpAddressNew})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Zewn\u0119trzny adres ip"),r.a.createElement(v.a.Control,{type:"text",onChange:this.SensorExternalIpAddressNew})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Top"),r.a.createElement(v.a.Control,{type:"text",onChange:this.SensorTopNew})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Left"),r.a.createElement(v.a.Control,{type:"text",onChange:this.SensorLeftNew})))),r.a.createElement(A.a.Footer,null,r.a.createElement(d.a,{variant:"secondary",onClick:this.handleCreateClose},"Zamknij"),r.a.createElement(d.a,{variant:"primary",onClick:this.createSensor},"Dodaj"))))}}]),n}(n.Component)),z=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(m.a,null,r.a.createElement(S.a,{className:"myContainer"},r.a.createElement(k.a,null,r.a.createElement(j.a,null,r.a.createElement("h1",null,"Panel administratora"))),r.a.createElement(k.a,null,r.a.createElement(j.a,null,r.a.createElement(U,null)))),r.a.createElement(C.d,null,r.a.createElement(C.b,{path:"/Centrum-Historii-Zajezdnia-Web-Page/admin-panel",exact:!0,component:L}),r.a.createElement(C.b,{path:"/Centrum-Historii-Zajezdnia-Web-Page/admin-panel/users-management",component:I}),r.a.createElement(C.b,{path:"/Centrum-Historii-Zajezdnia-Web-Page/admin-panel/server",component:T}),r.a.createElement(C.b,{path:"/Centrum-Historii-Zajezdnia-Web-Page/admin-panel/sensors",component:P}))))}}]),a}(n.Component),M=function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S.a,{className:"myContainer"},r.a.createElement(k.a,null,r.a.createElement(j.a,null,r.a.createElement("h1",null,"Panel pracownika"))),r.a.createElement(k.a,null,r.a.createElement(j.a,null,r.a.createElement(m.b,{to:"/Centrum-Historii-Zajezdnia-Web-Page/login"},r.a.createElement(d.a,{className:"Login-Button2",variant:"primary"},"Wyloguj"))))),r.a.createElement(L,null))}}]),a}(n.Component),F=(a(219),function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={generatedCodeData:{ipAddress:"",mask:"",gate:"",dns:"",networkName:"",password:"",sensorName:"",top:"",left:"",externalIp:""},fileName:"main.py",template:"xd"},n.IpAddress=n.IpAddress.bind(Object(y.a)(n)),n.Mask=n.Mask.bind(Object(y.a)(n)),n.Gate=n.Gate.bind(Object(y.a)(n)),n.DNS=n.DNS.bind(Object(y.a)(n)),n.NetworkName=n.NetworkName.bind(Object(y.a)(n)),n.Top=n.Top.bind(Object(y.a)(n)),n.Left=n.Left.bind(Object(y.a)(n)),n.ExternalIp=n.ExternalIp.bind(Object(y.a)(n)),n.SensorName=n.SensorName.bind(Object(y.a)(n)),n.Create=n.Create.bind(Object(y.a)(n)),n.createSensor=n.createSensor.bind(Object(y.a)(n)),n.clearData=n.clearData.bind(Object(y.a)(n)),n.Password=n.Password.bind(Object(y.a)(n)),n}return Object(i.a)(a,[{key:"createSensor",value:function(){var e=Object(D.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(this.state.createSensorData);try{fetch("https://localhost:5001/api/sensors",{method:"post",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({sensorName:this.state.generatedCodeData.sensorName,ipAddress:this.state.generatedCodeData.ipAddress,externalIp:this.state.generatedCodeData.externalIp,top:this.state.generatedCodeData.top,left:this.state.generatedCodeData.left})}).then((function(e){console.log(e)}))}catch(t){console.log(t)}this.clearData();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Create",value:function(){var e=new Date,t="import dht\nimport machine\nimport ujson\nimport time\nimport network\nimport socket\n\nmachine.RTC().datetime((FORMAT_DATY))\n\nwith open('logs.txt', 'a') as logs:\n\tlogs.write('Start ' + str(time.localtime()) + '\\n')\n\nsta = network.WLAN(network.STA_IF)\nsta.active(True)\nsta.ifconfig(('IP', 'MASKA', 'GATEWAY', 'DNS'))\nsta.connect('NAZWA SIECI', 'HAS\u0141O')\ntime.sleep(5)\n\nwith open('logs.txt', 'a') as logs:\n\twhile not sta.isconnected():\n\t\tlogs.write('Not connected' + str(time.localtime()) + ' ' + str(sta.ifconfig()) + '\\n')\n\t\ttime.sleep(10)\n\t\tta.connect('NAZWA SIECI', 'HAS\u0141O')\n\tlogs.write('Connected' + str(time.localtime()) + ' ' + str(sta.ifconfig()) + '\\n')\n\naddr = socket.getaddrinfo('0.0.0.0', 80)[0][-1]\ns = socket.socket()\ns.bind(addr)\ns.listen(1)\n\ndata= {}\ndata['name'] = 'NAZWA'\nd = dht.DHT22(machine.Pin(16))\n\nlast_measure = time.time()\nmeasured = False\nwhile not measured:\n\ttry:\n\t\td.measure()\n\t\tdata['temperature'] = d.temperature()\n\t\tdata['humidity'] = d.humidity()\n\t\tlast_measure = time.time()\nmeasured = True\n\texcept Exception as e:\n\t\twith open('logs.txt', 'a') as logs:\n\t\t\tlogs.write('Start measure error' + str(time.localtime()) + '\\n')\n\nwhile True:\n\tcl, addr = s.accept()\n\tcl_file = cl.makefile('rwb', 0)\n\twhile True:\n\t\tline = cl_file.readline()\n\t\tif not line or line == b'\\r\\n':\n\t\t\tbreak\n\twith open('logs.txt', 'a') as file:\n\t\tfile.write('Connection from ' + str(addr) + '\\n')\n\tif time.time() - last_measure > 120:\n\t\ttry:\n\t\t\td.measure()\n\t\t\tdata['temperature'] = d.temperature()\n\t\t\tdata['humidity'] = d.humidity()\n\t\t\tlast_measure = time.time()\n\t\t\tcl.send('HTTP/1.1 200 OK\\r\\nContent-type: application/json\\r\\n\\r\\n')\n\t\t\tcl.send(ujson.dumps(data))\n\t\texcept Exception as e:\n\t\t\twith open('logs.txt', 'a') as logs:\n\t\t\t\tlogs.write('Start mesure error' + str(time.localtime()) + '\\n')\n\t\t\tcl.send('HTTP/1.1 500 Internal Server Error\\r\\nContent-type: application/json\\r\\n\\r\\n')\n\t\t\tcl.send(ujson.dumps({'Error': 'Measure Error', 'Time': str(time.localtime())}))\n\telse :\n\t\tcl.send('HTTP/1.1 200 OK\\r\\nContent-type: application/json\\r\\n\\r\\n')\n\t\tcl.send(ujson.dumps(data))\n\tcl.close()\n";t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("FORMAT_DATY","".concat(e.getFullYear(),",").concat(e.getMonth()+1,",").concat(e.getDate(),",").concat(e.getHours(),",").concat(e.getMinutes(),",0,0,0"))).replace("IP",this.state.generatedCodeData.ipAddress)).replace("MASKA",this.state.generatedCodeData.mask)).replace("GATEWAY",this.state.generatedCodeData.gate)).replace("DNS",this.state.generatedCodeData.dns)).replace("NAZWA SIECI",this.state.generatedCodeData.networkName)).replace("HAS\u0141O",this.state.generatedCodeData.password)).replace("NAZWA SIECI",this.state.generatedCodeData.networkName)).replace("HAS\u0141O",this.state.generatedCodeData.password)).replace("NAZWA",this.state.generatedCodeData.sensorName);var a=document.createElement("a");a.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),a.setAttribute("download",this.state.fileName),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a),this.createSensor()}},{key:"clearData",value:function(){this.state.generatedCodeData.ipAddress="",this.state.generatedCodeData.mask="",this.state.generatedCodeData.gate="",this.state.generatedCodeData.dns="",this.state.generatedCodeData.networkName="",this.state.generatedCodeData.top="",this.state.generatedCodeData.left="",this.state.generatedCodeData.externalIp="",this.state.generatedCodeData.sensorName="",this.state.generatedCodeData.password=""}},{key:"IpAddress",value:function(e){this.state.generatedCodeData.ipAddress=e.target.value}},{key:"Mask",value:function(e){this.state.generatedCodeData.mask=e.target.value}},{key:"Gate",value:function(e){this.state.generatedCodeData.gate=e.target.value}},{key:"DNS",value:function(e){this.state.generatedCodeData.dns=e.target.value}},{key:"NetworkName",value:function(e){this.state.generatedCodeData.networkName=e.target.value}},{key:"Top",value:function(e){this.state.generatedCodeData.top=e.target.value}},{key:"Left",value:function(e){this.state.generatedCodeData.left=e.target.value}},{key:"ExternalIp",value:function(e){this.state.generatedCodeData.externalIp=e.target.value}},{key:"SensorName",value:function(e){this.state.generatedCodeData.sensorName=e.target.value}},{key:"Password",value:function(e){this.state.generatedCodeData.password=e.target.value}},{key:"render",value:function(){return r.a.createElement(S.a,{className:"myContainer"},r.a.createElement(k.a,null,r.a.createElement(j.a,null,r.a.createElement("h1",null,"Panel technika"))),r.a.createElement(k.a,null,r.a.createElement(j.a,null,r.a.createElement(m.b,{to:"/Centrum-Historii-Zajezdnia-Web-Page/login"},r.a.createElement(d.a,{className:"Login-Button2",variant:"primary"},"Wyloguj")))),r.a.createElement(k.a,null,r.a.createElement(j.a,{xs:"12"},r.a.createElement("div",{className:"technicianTitle"},"Generowanie kodu i dodanie czujnika"))),r.a.createElement(k.a,{className:"technicianInput"},r.a.createElement(j.a,null,r.a.createElement(v.a,{style:{}},r.a.createElement(v.a.Group,{style:{marginTop:"10px"}},r.a.createElement(v.a.Label,null,"Adres Ip"),r.a.createElement(v.a.Control,{type:"text",onChange:this.IpAddress})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Maska"),r.a.createElement(v.a.Control,{type:"text",onChange:this.Mask})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Adres bramy"),r.a.createElement(v.a.Control,{type:"text",onChange:this.Gate})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"DNS"),r.a.createElement(v.a.Control,{type:"text",onChange:this.DNS})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Nazwa sieci"),r.a.createElement(v.a.Control,{type:"text",onChange:this.NetworkName})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Has\u0142o"),r.a.createElement(v.a.Control,{type:"text",onChange:this.Password})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Nazwa czujnika"),r.a.createElement(v.a.Control,{type:"text",onChange:this.SensorName})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Top"),r.a.createElement(v.a.Control,{type:"text",onChange:this.Top})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Left"),r.a.createElement(v.a.Control,{type:"text",onChange:this.Left})),r.a.createElement(v.a.Group,null,r.a.createElement(v.a.Label,null,"Adres ip zewn\u0119trzny"),r.a.createElement(v.a.Control,{type:"text",onChange:this.ExternalIp})),r.a.createElement(d.a,{className:"btnEdit",variant:"dark",style:{marginLeft:"120px",marginTop:"10px",marginBottom:"30px",width:"120px",height:"35px"},onClick:this.Create},"Generuj")))))}}]),a}(n.Component)),G=(a(220),function(e){Object(u.a)(a,e);var t=Object(c.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(f,null),r.a.createElement(C.d,null,r.a.createElement(C.b,{path:"/Centrum-Historii-Zajezdnia-Web-Page/",exact:!0,component:p}),r.a.createElement(C.b,{path:"/Centrum-Historii-Zajezdnia-Web-Page/about",component:h}),r.a.createElement(C.b,{path:"/Centrum-Historii-Zajezdnia-Web-Page/contact",component:E}),r.a.createElement(C.b,{path:"/Centrum-Historii-Zajezdnia-Web-Page/login",component:w}),r.a.createElement(C.b,{path:"/Centrum-Historii-Zajezdnia-Web-Page/admin-panel",component:z}),r.a.createElement(C.b,{path:"/Centrum-Historii-Zajezdnia-Web-Page/employeepanel",component:M}),r.a.createElement(C.b,{path:"/Centrum-Historii-Zajezdnia-Web-Page/technicianpanel",component:F})))}}]),a}(n.Component));a(221);l.a.render(r.a.createElement(G,null),document.getElementById("root"))},32:function(e,t,a){},72:function(e,t,a){},98:function(e,t,a){e.exports=a(222)}},[[98,1,2]]]);
//# sourceMappingURL=main.4216705d.chunk.js.map